Знакомство
================================================================================

Основные сведения о реляционных базах данных
--------------------------------------------------------------------------------

### Таблицы

Реляционная база данных состоит из таблиц, имеющих свои имена. На пересечении каждого столбца и каждой строки располагается одно значение.

Строки таблицы могу храниться в произвольной последовательности и не должны повторяться.

Каждый столбец таблицы имеет имя и !!тип !!данных, которому соответствуют все значения в столбце.

### Первичный ключ

Первичный ключ - это минимальный набор столбцов, совокупность значений которых однозначно определяет строку.

На практике первичным ключом служит специальный столбец, значения которого автоматически задает СУБД.

### Связи между таблицами. Внешний ключ.

* Один ко многим.
* Один к одному.
* Многие ко многим.

### Целостность данных

Целостностью данных, хранимых в СУБД, называется их корректность и непротиворечивость.

Базовыми требованиями целостности, которые должны выполняться в любой реляционной базе данных является целостность сущностей и целостность связей (ссылочная целостность).

Целостность сущностей означает, что первичный ключ не должен содержать повторяющихся и неопределенных значений.

Целостность связей означает, что внешний ключ в таблице не содержит значения, отсутствующие в первичном ключе родительской таблицы.

Для поддержания целостности сущностей СУБД проверяет корректность значения первичного ключа при добавлении и изменении строк. Для предотвращения нарушения ссылочной целостности существует несколько способов:

* Запрет(RESTRICT): если на строку родительской таблицы ссылается хотя бы одна строка дочерней таблицы, то удаление родительской строки и изменение значения первичного ключа в такой строке запрещаются.
* Каскадное удаление}обновление (CASCADE): при удалении строки из родительской таблицы автоматически удаляются все ссылающиеся на нее строки дочерней таблицы. При изменении значения первичного ключа в строке родительской таблицы автоматически обновляется значение внешнего ключа в ссылающихся на нее строках дочерней таблицы.
* Обнуление (SET NULL): при удалении строки и при изменении значения первичного ключа в строке значениеи внешнего ключа во всех строкаъ, ссылающихся на данную, автоматически становится неопределенным. 

В СУБД MySQL способ поддержания целостности указывается при создании или изменении структуры дочерней таблицы.

Транзакция - группа связанных операций, которые должны быть либо все выполнены, либо все отменены. Если при выполнении одной из операций происходит ошибка или свой, то транзакция отменяется. При этом все уже внесенные другими операциями изменения автоматически аннулируются и восстанавливается исходное состояние базы данных.

Проектирование базы данных
--------------------------------------------------------------------------------

Проектирование включает в себя следующие основные этапы:

* Определение требований к базе данных.
* Создание модели данных, соответствующей всем предъявленным требованиям.
    * Проектирование снизу вверх, от элемента к структуре: вначале определяется, какие именно атрибуты должны храниться в базе данных, затем группы атрибутов объединяются в объекты. Данный метод подходит для небольших баз данных.
    * Проектирование сверху вниз начинается с выделения высокоуровневых объектов и связей между ними, затем осуществляется декомпозиция объектов и последовательная деталицайия модели до уровня атрибутов.
* Нормализация. Заключается в минимизации избыточности данных.